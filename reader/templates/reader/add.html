{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing HTML QrCode</title>
    <link rel="stylesheet" href="{% static 'scan/style.css' %}">
</head>
<body>
    <h1 style="margin: 20px auto;">Adicionar novo codigo</h1>
    <a href="{% url 'reader:scan' %}">Vendo se tá lido ou não</a>
    <form action="{% url 'reader:save_qr_data' %}" method="post" style="margin-top: 20px;">
        <input type="text" name="numero" placeholder="numero" id="numero" required><br>
        <input type="text" name="nome" placeholder="nome" required><br>
        <input type="text" name="local" placeholder="local" required><br>
        <input type="text" name="instrutor" placeholder="instrutor" required><br>
        <input type="submit">
    </form>
    <button onclick="generateQrCode()">Create QrCode</button>

    <div id="ImgBox">
        <img src="" id="qrImage">
    </div>

    <script src="https://unpkg.com/html5-qrcode"></script>

    <script>
        function generateQrCode(){
            imgbox = document.getElementById("ImgBox");
            qrimg = document.getElementById("qrImage")
            qrtext = document.getElementById("numero")

            qrimg.src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${qrtext.value}`
        }
    </script>
</body>
</html>